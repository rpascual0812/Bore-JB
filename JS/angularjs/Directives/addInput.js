app.directive('addInput', ['$compile', function ($compile) { // inject $compile service as dependency
	return {
		restrict: 'AE',
		link: function (scope, element, attrs){

			element.find('button').bind('click', function () {
				var input = angular.element('<table id="'+scope.inputCounter+'"><tr><td colspan=2><hr><a href="" ng-click="removeElement('+scope.inputCounter+')">Remove</a></td></tr><div><tr><td class="labels"><label>Educational<br>Attainment:</label></td><td width="60%"><select class="dropdown" ng-model="extended.educational_attainment['+(scope.inputCounter)+']" name="" default="" style="margin-right:2%" tabindex= required><option value="" disabled selected style="display:none">Degree</option><option ng-repeat="v in educational_attainment" value="{{v}}">{{v}}</option></select></td></tr><tr><td class="labels"><label>School:</label></td><td><input style="width: 57%; margin-right:2%;  border-right:none; border-left:none;border-top:none;border-bottom: 2px solid #f46963;" type="text" name="school"placeholder="School" ng-model="extended.school['+scope.inputCounter+']" tabindex= required/></td></tr><tr><td class="labels"></td><td><span style="color:#a81c17; font-size: 13px;" ng-show="education_form.school.$invalid && !education_form.school.$pristine">*School is required</span></td></tr><tr><td class="labels"><label>Major:</label></td><td><input style=" width: 57%; margin-right:2%;  border-right:none; border-left:none;border-top:none;border-bottom: 2px solid #f46963;"  type="text" name="major" placeholder="Major" ng-model="extended.major['+scope.inputCounter+']" tabindex=/></td></tr><tr><td class="labels"><label >Date From:</label></td><td><select class="dropdown" ng-model="extended.start_date.month['+scope.inputCounter+']" name="start_month" default="Month" style="padding:1%;margin-right:2%;" tabindex= required><option value="" disabled selected style="display:none">Month</option><option ng-repeat="v in months" value="{{v}}">{{v}}</option></select><input style=" width: 20%; margin-right:2%; border-right:none; border-left:none;border-top:none;border-bottom: 2px solid #f46963;" type="text" name="start_year" placeholder="Year" ng-model="extended.start_date.year['+scope.inputCounter+']" is-number maxlength=4 tabindex= required/></td></tr><tr><td class="labels"><label style="padding-left:9.5%">Status of<br>Degree:</label></td><div ng-init="extended.status['+scope.inputCounter+']=text"><td ><input type="radio" ng-model="extended.status['+scope.inputCounter+']" value="ongoing" ng-click="extended_status(extended.status['+scope.inputCounter+'],'+scope.inputCounter+')" tabindex= ><label style="margin-right:3%;" >Ongoing</label></input><input type="radio"  ng-checked="true" ng-model="extended.status['+scope.inputCounter+']" value="completed" ng-click="extended_status(extended.status['+scope.inputCounter+'],'+scope.inputCounter+')" tabindex=><label>Completed</label></input></td></div></tr><tr><td class="labels"><div ng-class="completed_extend['+scope.inputCounter+']"><label>Date To:</label></div><div ng-class="present_extend['+scope.inputCounter+']"><label >Expected Date<br> of Graduation :</label></div></td><td><div ng-class="present_extend['+scope.inputCounter+']"><div style=""><select class="dropdown" ng-model="extended.expected_graduation.month['+scope.inputCounter+']" name="month" default="Month" style="padding:1%; margin-right:2%;" tabindex= ng-init=""><option value="" disabled selected style="display:none">Month</option><option ng-repeat="v in months" value="{{v}}">{{v}}</option></select><select class="dropdown" ng-model="extended.expected_graduation.year['+scope.inputCounter+']" name="year" default="Year" style="padding:1%; margin-right:2%;" tabindex= ng-init=""><option value="" disabled selected style="display:none">Year</option><option ng-repeat="v in graduation_years" value="{{v}}">{{v}}</option></select></div></div><div ng-class="completed_extend['+scope.inputCounter+']"><select ng-init="" class="dropdown" ng-model="extended.end_date.month['+scope.inputCounter+']"  name="month" default="Month" style="padding:1%;margin-right:2%;" tabindex=><option value="" disabled selected style="display:none">Month</option><option ng-repeat="v in months" value="{{v}}">{{v}}</option></select><input style=" width: 20%; margin-right:2%; border-right:none; border-left:none;border-top:none;border-bottom: 2px solid #f46963;" type="text" name="year" placeholder="Year" ng-model="extended.end_date.year['+scope.inputCounter+']" is-number maxlength=4 tabindex= ng-init=""/></div></td></tr><tr><td colspan=2></td></tr></table>');
				var compile = $compile(input)(scope);
				element.append(input);
				
			    scope.completed_extend[scope.inputCounter]="ng-show";
			    scope.present_extend[scope.inputCounter]="ng-hide";
				scope.inputCounter++;


				
    			

			});
		}
	}
}]);